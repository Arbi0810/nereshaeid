(function(){function m(a){function b(a){a.element.removeAttribute("data-cmp-is");c(a.options);e(a.element);d._active=0;d._paused=!1;d._elements.item&&(y(),q(),u(),v());window.Granite&&window.Granite.author&&window.Granite.author.MessageChannel&&(window.CQ=window.CQ||{},window.CQ.CoreComponents=window.CQ.CoreComponents||{},CQ.CoreComponents.MESSAGE_CHANNEL=CQ.CoreComponents.MESSAGE_CHANNEL||new window.Granite.author.MessageChannel("cqauthor",window),CQ.CoreComponents.MESSAGE_CHANNEL.subscribeRequestMessage("cmp.panelcontainer",
function(a){a.data&&"cmp-carousel"===a.data.type&&a.data.id===d._elements.self.dataset.cmpPanelcontainerId&&"navigate"===a.data.operation&&t(a.data.index)}))}function e(a){d._elements={};d._elements.self=a;a=d._elements.self.querySelectorAll("[data-cmp-hook-carousel]");for(var b=0;b<a.length;b++){var e=a[b],c="carousel";c=c.charAt(0).toUpperCase()+c.slice(1);c=e.dataset["cmpHook"+c];d._elements[c]?(Array.isArray(d._elements[c])||(d._elements[c]=[d._elements[c]]),d._elements[c].push(e)):d._elements[c]=
e}}function c(a){d._properties={};for(var b in l)if(l.hasOwnProperty(b)){var c=l[b],e=null;a&&null!=a[b]&&(e=a[b],c&&"function"===typeof c.transform&&(e=c.transform(e)));null===e&&(e=l[b]["default"]);d._properties[b]=e}}function q(){d._elements.previous&&d._elements.previous.addEventListener("click",function(){var a=0===d._active?d._elements.item.length-1:d._active-1;t(a);h&&f.push({event:"cmp:show",eventInfo:{path:"component."+p(d._elements.item[a].dataset.cmpDataLayer)}})});d._elements.next&&d._elements.next.addEventListener("click",
function(){var a=x();t(a);h&&f.push({event:"cmp:show",eventInfo:{path:"component."+p(d._elements.item[a].dataset.cmpDataLayer)}})});var a=d._elements.indicator;if(a)for(var b=0;b<a.length;b++)(function(d){a[b].addEventListener("click",function(a){r(d)})})(b);d._elements.pause&&d._properties.autoplay&&d._elements.pause.addEventListener("click",B);d._elements.play&&d._properties.autoplay&&d._elements.play.addEventListener("click",C);d._elements.self.addEventListener("keydown",k);d._properties.autopauseDisabled||
(d._elements.self.addEventListener("mouseenter",m),d._elements.self.addEventListener("mouseleave",n))}function k(a){var b=d._active,c=d._elements.indicator.length-1;switch(a.keyCode){case g.ARROW_LEFT:case g.ARROW_UP:a.preventDefault();0<b&&r(b-1);break;case g.ARROW_RIGHT:case g.ARROW_DOWN:a.preventDefault();b<c&&r(b+1);break;case g.HOME:a.preventDefault();r(0);break;case g.END:a.preventDefault();r(c);break;case g.SPACE:d._properties.autoplay&&a.target!==d._elements.previous&&a.target!==d._elements.next&&
(a.preventDefault(),d._paused?z():(d._paused=!0,w(),v())),a.target===d._elements.pause&&d._elements.play.focus(),a.target===d._elements.play&&d._elements.pause.focus()}}function m(a){w()}function n(a){u()}function B(a){d._paused=!0;w();v();d._elements.play.focus()}function C(){z();d._elements.pause.focus()}function z(){var a=d._paused=!1;d._elements.self.parentElement&&(a=d._elements.self.parentElement.querySelector(":hover")===d._elements.self);!d._properties.autopauseDisabled&&a||u();v()}function v(){A(d._elements.pause,
d._paused);A(d._elements.play,!d._paused)}function y(){var a=d._elements.item,b=d._elements.indicator;if(a)if(Array.isArray(a))for(var c=0;c<a.length;c++)c===parseInt(d._active)?(a[c].classList.add("cmp-carousel__item--active"),a[c].removeAttribute("aria-hidden"),b[c].classList.add("cmp-carousel__indicator--active"),b[c].setAttribute("aria-selected",!0),b[c].setAttribute("tabindex","0")):(a[c].classList.remove("cmp-carousel__item--active"),a[c].setAttribute("aria-hidden",!0),b[c].classList.remove("cmp-carousel__indicator--active"),
b[c].setAttribute("aria-selected",!1),b[c].setAttribute("tabindex","-1"));else a.classList.add("cmp-carousel__item--active"),b.classList.add("cmp-carousel__indicator--active")}function x(){return d._active===d._elements.item.length-1?0:d._active+1}function t(a){if(!(0>a||a>d._elements.item.length-1)){d._active=a;y();if(h){var b=d._elements.self.id,c=p(d._elements.item[a].dataset.cmpDataLayer);a={component:{}};a.component[b]={shownItems:[c]};c={component:{}};c.component[b]={shownItems:void 0};f.push(c);
f.push(a)}d._elements.self.parentElement&&d._elements.self.parentElement.querySelector(":hover")!==d._elements.self&&u()}}function r(a){t(a);var b=window.scrollX||window.pageXOffset,c=window.scrollY||window.pageYOffset;d._elements.indicator[a].focus();window.scrollTo(b,c);h&&f.push({event:"cmp:show",eventInfo:{path:"component."+p(d._elements.item[a].dataset.cmpDataLayer)}})}function u(){!d._paused&&d._properties.autoplay&&(w(),d._autoplayIntervalId=window.setInterval(function(){if(!document.visibilityState||
!document.hidden){var a=d._elements.indicators;a!==document.activeElement&&a.contains(document.activeElement)?r(x()):t(x())}},d._properties.delay))}function w(){window.clearInterval(d._autoplayIntervalId);d._autoplayIntervalId=null}function A(a,b){a&&(!1!==b?(a.disabled=!0,a.classList.add("cmp-carousel__action--disabled")):(a.disabled=!1,a.classList.remove("cmp-carousel__action--disabled")))}var d=this;a&&a.element&&b(a)}function k(a){a=a.dataset;var b=[],e="carousel";e=e.charAt(0).toUpperCase()+
e.slice(1);e=["is","hook"+e];for(var c in a)if(a.hasOwnProperty(c)){var f=a[c];0===c.indexOf("cmp")&&(c=c.slice(3),c=c.charAt(0).toLowerCase()+c.substring(1),-1===e.indexOf(c)&&(b[c]=f))}return b}function p(a){return Object.keys(JSON.parse(a))[0]}function n(){f=(h=document.body.hasAttribute("data-cmp-data-layer-enabled"))?window.adobeDataLayer=window.adobeDataLayer||[]:void 0;for(var a=document.querySelectorAll(q.self),b=0;b<a.length;b++)new m({element:a[b],options:k(a[b])});a=window.MutationObserver||
window.WebKitMutationObserver||window.MozMutationObserver;b=document.querySelector("body");(new a(function(a){a.forEach(function(a){a=[].slice.call(a.addedNodes);0<a.length&&a.forEach(function(a){a.querySelectorAll&&[].slice.call(a.querySelectorAll(q.self)).forEach(function(a){new m({element:a,options:k(a)})})})})})).observe(b,{subtree:!0,childList:!0,characterData:!0})}var h,f,g={SPACE:32,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40},q={self:'[data-cmp-is\x3d"carousel"]'},
l={autoplay:{"default":!1,transform:function(a){return!(null===a||"undefined"===typeof a)}},delay:{"default":5E3,transform:function(a){a=parseFloat(a);return isNaN(a)?null:a}},autopauseDisabled:{"default":!1,transform:function(a){return!(null===a||"undefined"===typeof a)}}};"loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",n)})();
(function(){function m(a){a=a.dataset;var b=[],e="search";e=e.charAt(0).toUpperCase()+e.slice(1);e=["is","hook"+e];for(var c in a)if(a.hasOwnProperty(c)){var f=a[c];0===c.indexOf("cmp")&&(c=c.slice(3),c=c.charAt(0).toLowerCase()+c.substring(1),-1===e.indexOf(c)&&(b[c]=f))}return b}function k(a,b){a&&(!1!==b?(a.style.display="block",a.setAttribute("aria-hidden",!1)):(a.style.display="none",a.setAttribute("aria-hidden",!0)))}function p(a){var b=[];if(a&&a.elements)for(var e=0;e<a.elements.length;e++){var c=
a.elements[e];!c.disabled&&c.name&&(c=[c.name,encodeURIComponent(c.value)],b.push(c.join("\x3d")))}return b.join("\x26")}function n(a,b){if(a&&b)if(3===a.nodeType){var e=a.nodeValue;b=b.exec(e);if(e&&b){e=document.createElement("mark");e.className="cmp-search__item-mark";e.appendChild(document.createTextNode(b[0]));var c=a.splitText(b.index);c.nodeValue=c.nodeValue.substring(b[0].length);a.parentNode.insertBefore(e,c)}}else if(a.hasChildNodes())for(e=0;e<a.childNodes.length;e++)n(a.childNodes[e],
b)}function h(a){a.element&&a.element.removeAttribute("data-cmp-is");this._cacheElements(a.element);this._setupProperties(a.options);this._action=this._elements.form.getAttribute("action");this._resultsOffset=0;this._hasMoreResults=!0;this._elements.input.addEventListener("input",this._onInput.bind(this));this._elements.input.addEventListener("focus",this._onInput.bind(this));this._elements.input.addEventListener("keydown",this._onKeydown.bind(this));this._elements.clear.addEventListener("click",
this._onClearClick.bind(this));document.addEventListener("click",this._onDocumentClick.bind(this));this._elements.results.addEventListener("scroll",this._onScroll.bind(this));this._makeAccessible()}function f(){for(var a=document.querySelectorAll(g.self),b=0;b<a.length;b++)new h({element:a[b],options:m(a[b])});a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;b=document.querySelector("body");(new a(function(a){a.forEach(function(a){a=[].slice.call(a.addedNodes);
0<a.length&&a.forEach(function(a){a.querySelectorAll&&[].slice.call(a.querySelectorAll(g.self)).forEach(function(a){new h({element:a,options:m(a)})})})})})).observe(b,{subtree:!0,childList:!0,characterData:!0})}var g={self:'[data-cmp-is\x3d"search"]',item:{self:'[data-cmp-hook-search\x3d"item"]',title:'[data-cmp-hook-search\x3d"itemTitle"]',focused:".cmp-search__item--is-focused"}},q={minLength:{"default":3,transform:function(a){a=parseFloat(a);return isNaN(a)?null:a}},resultsSize:{"default":10,transform:function(a){a=
parseFloat(a);return isNaN(a)?null:a}}},l=0;h.prototype._displayResults=function(){0===this._elements.input.value.length?(k(this._elements.clear,!1),this._cancelResults()):(this._elements.input.value.length<this._properties.minLength||this._updateResults(),k(this._elements.clear,!0))};h.prototype._onScroll=function(a){this._elements.results.scrollTop+2*this._elements.results.clientHeight>=this._elements.results.scrollHeight&&(this._resultsOffset+=this._properties.resultsSize,this._displayResults())};
h.prototype._onInput=function(a){var b=this;b._cancelResults();this._timeout=setTimeout(function(){b._displayResults()},300)};h.prototype._onKeydown=function(a){switch(a.keyCode){case 9:this._resultsOpen()&&a.preventDefault();break;case 13:a.preventDefault();this._resultsOpen()&&(a=this._elements.results.querySelector(g.item.focused))&&a.click();break;case 27:this._cancelResults();break;case 38:this._resultsOpen()&&(a.preventDefault(),this._stepResultFocus(!0));break;case 40:this._resultsOpen()?(a.preventDefault(),
this._stepResultFocus()):this._onInput()}};h.prototype._onClearClick=function(a){a.preventDefault();this._elements.input.value="";k(this._elements.clear,!1);k(this._elements.results,!1)};h.prototype._onDocumentClick=function(a){var b=this._elements.input.contains(a.target);a=this._elements.results.contains(a.target);b||a||k(this._elements.results,!1)};h.prototype._resultsOpen=function(){return"none"!==this._elements.results.style.display};h.prototype._makeAccessible=function(){var a="cmp-search-results-"+
l;this._elements.input.setAttribute("aria-owns",a);this._elements.results.id=a;l++};h.prototype._generateItems=function(a,b){var e=this;a.forEach(function(a){var c=document.createElement("span");c.innerHTML=e._elements.itemTemplate.innerHTML;c.querySelectorAll(g.item.title)[0].appendChild(document.createTextNode(a.title));c.querySelectorAll(g.item.self)[0].setAttribute("href",a.url);b.innerHTML+=c.innerHTML})};h.prototype._markResults=function(){var a=this._elements.results.querySelectorAll(g.item.self),
b=this._elements.input.value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$\x26");b=new RegExp("("+b+")","gi");for(var e=this._resultsOffset-1;e<a.length;++e)n(a[e],b)};h.prototype._stepResultFocus=function(a){var b=this._elements.results.querySelectorAll(g.item.self),e=this._elements.results.querySelector(g.item.focused);e=Array.prototype.indexOf.call(b,e);if(0<b.length)if(a){if(1<=e&&(b[e].classList.remove("cmp-search__item--is-focused"),b[e-1].classList.add("cmp-search__item--is-focused")),a=this._elements.results.querySelector(g.item.focused))a=
this._elements.results.scrollTop-a.offsetTop,0<a&&(this._elements.results.scrollTop-=a)}else if(0>e?b[0].classList.add("cmp-search__item--is-focused"):e+1<b.length&&(b[e].classList.remove("cmp-search__item--is-focused"),b[e+1].classList.add("cmp-search__item--is-focused")),a=this._elements.results.querySelector(g.item.focused))a=a.offsetTop+a.offsetHeight-this._elements.results.scrollTop-this._elements.results.clientHeight,0<a?this._elements.results.scrollTop+=a:this._onScroll()};h.prototype._updateResults=
function(){var a=this;if(a._hasMoreResults){var b=new XMLHttpRequest,e=a._action+"?"+p(a._elements.form)+"\x26resultsOffset\x3d"+a._resultsOffset;b.open("GET",e,!0);b.onload=function(){setTimeout(function(){k(a._elements.loadingIndicator,!1);k(a._elements.icon,!0)},300);if(200<=b.status&&400>b.status){var c=JSON.parse(b.responseText);0<c.length?(a._generateItems(c,a._elements.results),a._markResults(),k(a._elements.results,!0)):a._hasMoreResults=!1;0<a._elements.results.querySelectorAll(g.item.self).length%
a._properties.resultsSize&&(a._hasMoreResults=!1)}};k(a._elements.loadingIndicator,!0);k(a._elements.icon,!1);b.send()}};h.prototype._cancelResults=function(){clearTimeout(this._timeout);this._resultsOffset=this._elements.results.scrollTop=0;this._hasMoreResults=!0;this._elements.results.innerHTML=""};h.prototype._cacheElements=function(a){this._elements={};this._elements.self=a;a=this._elements.self.querySelectorAll("[data-cmp-hook-search]");for(var b=0;b<a.length;b++){var e=a[b],c="search";c=c.charAt(0).toUpperCase()+
c.slice(1);this._elements[e.dataset["cmpHook"+c]]=e}};h.prototype._setupProperties=function(a){this._properties={};for(var b in q)if(q.hasOwnProperty(b)){var e=q[b];this._properties[b]=a&&null!=a[b]?e&&"function"===typeof e.transform?e.transform(a[b]):a[b]:q[b]["default"]}};"loading"!==document.readyState?f():document.addEventListener("DOMContentLoaded",f)})();
(function(){function m(f){f=f.dataset;var g=[],h="formText";h=h.charAt(0).toUpperCase()+h.slice(1);h=["is","hook"+h];for(var l in f)if(f.hasOwnProperty(l)){var a=f[l];0===l.indexOf("cmp")&&(l=l.slice(3),l=l.charAt(0).toLowerCase()+l.substring(1),-1===h.indexOf(l)&&(g[l]=a))}return g}function k(f){f.element&&f.element.removeAttribute("data-cmp-is");this._cacheElements(f.element);this._setupProperties(f.options);this._elements.input.addEventListener("invalid",this._onInvalid.bind(this));this._elements.input.addEventListener("input",
this._onInput.bind(this))}function p(){for(var f=document.querySelectorAll(n.self),g=0;g<f.length;g++)new k({element:f[g],options:m(f[g])});f=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;g=document.querySelector("body");(new f(function(f){f.forEach(function(f){f=[].slice.call(f.addedNodes);0<f.length&&f.forEach(function(a){a.querySelectorAll&&[].slice.call(a.querySelectorAll(n.self)).forEach(function(a){new k({element:a,options:m(a)})})})})})).observe(g,{subtree:!0,
childList:!0,characterData:!0})}var n={self:'[data-cmp-is\x3d"formText"]'},h={constraintMessage:{},requiredMessage:{}};k.prototype._onInvalid=function(f){f.target.setCustomValidity("");f.target.validity.typeMismatch?this._properties.constraintMessage&&f.target.setCustomValidity(this._properties.constraintMessage):f.target.validity.valueMissing&&this._properties.requiredMessage&&f.target.setCustomValidity(this._properties.requiredMessage)};k.prototype._onInput=function(f){f.target.setCustomValidity("")};
k.prototype._cacheElements=function(f){this._elements={};this._elements.self=f;f=this._elements.self.querySelectorAll("[data-cmp-hook-form-text]");for(var g=0;g<f.length;g++){var h=f[g],l="formText";l=l.charAt(0).toUpperCase()+l.slice(1);this._elements[h.dataset["cmpHook"+l]]=h}};k.prototype._setupProperties=function(f){this._properties={};for(var g in h)if(h.hasOwnProperty(g)){var k=h[g];this._properties[g]=f&&null!=f[g]?k&&"function"===typeof k.transform?k.transform(f[g]):f[g]:h[g]["default"]}};
"loading"!==document.readyState?p():document.addEventListener("DOMContentLoaded",p)})();